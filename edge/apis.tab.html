<!DOCTYPE html>
<html lang="zh-Hans-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="LuLu UI edge主题中文文档，面向PC，也兼容移动端，非常适合对外用户web网站的UI框架，阅文集团前端团队荣誉出品。本页面文档内容关于Tab选项卡切换">
<meta name="keywords" content="LuLu UI, 中文文档, UI框架, UI组件库, LuLu, Web, 前端, Tab选项卡切换">
<title>LuLu UI edge主题中文文档 &raquo; Tab选项卡切换</title>
<link rel="stylesheet" href="https://qidian.gtimg.com/lulu/edge/css/common/animate.css">
<link rel="stylesheet" href="https://qidian.gtimg.com/lulu/edge/css/common/ui.css">
<link rel="stylesheet" href="../edge/assets/css/mockup.css">
</head>
<body>
	<input id="asideCheck" type="checkbox" class="aside-checkbox"><label for="asideCheck" class="aside-label"><svg width="24" height="24"><use xlink:href="#icon-bars"></use></svg></label>
	<header class="header">
		<a href="../" accesskey="1" class="logo-a" data-theme="edge"><h1 class="logo">LuLu UI Edge版中文文档 &raquo; Tab选项卡切换</h1></a>
		<div class="header-right">
			<select id="selectTheme" class="select-theme" is="ui-select">
				<option value="peak">Peak主题</option>
			    <option value="pure">Pure主题</option>
			    <option value="edge" selected>Edge主题</option>
			</select>
			<a href="https://github.com/yued-fe/lulu" class="fork-me ui-button">Fork Me</a>
		</div>
	</header>

<style>
#c1,
#c2 {
    width: fit-content;
    margin: auto;
}
ul.active [hidden] {
    display: list-item;
}
ul.active ui-tab,
ul.active [is-tab] {
    -webkit-text-fill-color: transparent;
}
ul.active ui-tab::before,
ul.active [is-tab]::before {
    position: absolute;
    content: '收起↑';
    -webkit-text-fill-color: currentColor;
}

.accordion {
    width: 300px;
    display: flex;
    margin: auto;
}
.accordion dl {
    flex: 1;
}
.accordion dd {
    display: none;
}
.accordion .active + dd,
.accordion .active + dd + dd,
.accordion .active + dd + dd + dd,
.accordion .active + dd + dd + dd + dd {
    display: block;
}

.accordion ui-tab {
    display: block;
}
.accordion ui-tab:hover {
    color: var(--ui-blue);
}
.accordion ui-tab::after {
    content: '▶';
    display: inline-block;
    margin-left: 1ch;
}
.accordion ui-tab[open]::after {
    transform: rotate(90deg);
}

/* 选项卡 */
.tab-x {
    width: 50%;
    min-width: 320px;
    margin: 1em auto;
}
.tab {
    display: flex;
    text-align: center;
}
.tab-label {
    flex: 1;
    padding: 5px;
    background-color: #eee;
    border: 1px solid #ccc;
}
.tab-label + .tab-label {
    border-left: 0;
}
.tab-label[open] {
    background-color: #fff;
    border-bottom: 1px solid #fff;
    position: relative;
}
.tab-content:not(.active) {
    display: none;
}
.tab-content.active {
    margin-top: -1px;
    padding: 1em 2em;
    border: 1px solid #ccc;
}
img[src*="qdbimg"] {
    width: 90px;
    height: 120px;
}
</style>
<div class="main">
    <!-- 主内容 -->
    <main class="section_main">
        <h2 class="section_title">Tab切换</h2>
        <article>
            <h3>安装与调用</h3>
            <p>引用下面CSS文件：</p>
            <pre>&lt;link rel="stylesheet" href="https://qidian.gtimg.com/lulu/edge/css/common/ui/Tab.css"&gt;</pre>
            <p>引用下面的JS文件：</p>
            <pre>&lt;script type="module" src="https://qidian.gtimg.com/lulu/edge/js/common/ui/Tab.js"&gt;&lt;/script&gt;</pre>
            <p>支持es6 import的使用方式：</p>
            <pre>&lt;script type="module"&gt;
    import 'https://qidian.gtimg.com/lulu/edge/js/common/ui/Tab.js';
&lt;/script&gt;</pre>

            <h3>概要</h3>
            <p>这里的Tab切换本质上是一个切换器，任意1对1的交互效果都支持，例如展开收起、选项卡切换，又或者文档后面演示的轮播效果。</p>

            <h3>&lt;ui-tab&gt;自定义元素</h3>
            <p><code>&lt;ui-tab&gt;</code>自定义元素可以实现几乎所有常见的切换效果。</p>
            <p>实现原理如下：</p>
            <ol>
                <li><code>&lt;ui-tab&gt;</code>元素点击（或悬停）的时候，判断自身是否有<code>name</code>属性：</li>
                <ul>
                    <li>如果有<code>name</code>属性，则同<code>name</code>属性值的全部<code>&lt;ui-tab&gt;</code>元素仅当前点击的<code>&lt;ui-tab&gt;</code>元素保持open状态；</li>
                    <li>如果没有<code>name</code>属性，则认为是独立的，表现为当前<code>&lt;ui-tab&gt;</code>元素的open状态在<code>true</code>和<code>false</code>之间不断切换。</li>
                </ul>
                <li>通过<code>target</code>属性匹配对应的面板元素，根据<code>&lt;ui-tab&gt;</code>元素的open状态添加或移除面板元素的<code>.active</code>类名。</li>
            </ol>

            <p>下面通过多个不同类型的案例了解<code>&lt;ui-tab&gt;</code>自定义元素的功能表现。</p>

            <h4>1. 展开与收起</h4>
            
            <p>点击下面的“更多”。</p>
            <ul id="c1">
                <li>列表1</li>
                <li>列表2</li>
                <li>列表3</li>
                <li hidden>列表4</li>
                <li hidden>列表5</li>
                <li hidden>列表6</li>
                <ui-tab target="c1" class="blue">更多↓</ui-tab>
            </ul>

            <p>相关代码如下所示：</p>
            <pre>&lt;ul <mark>id="c1"</mark>&gt;
    &lt;li&gt;列表1&lt;/li&gt;
    &lt;li&gt;列表2&lt;/li&gt;
    &lt;li&gt;列表3&lt;/li&gt;
    &lt;li hidden&gt;列表4&lt;/li&gt;
    &lt;li hidden&gt;列表5&lt;/li&gt;
    &lt;li hidden&gt;列表6&lt;/li&gt;
    &lt;ui-tab <mark>target="c1"</mark>&gt;更多↓&lt;/ui-tab&gt;
&lt;/ul&gt;</pre>
            <pre>ul.active [hidden] {
    display: list-item;
}
ul.active ui-tab {
    -webkit-text-fill-color: transparent;
}
ul.active ui-tab::before {
    position: absolute;
    content: '收起↑';
    -webkit-text-fill-color: currentColor;
}</pre>
            
            <p>在本例中，“更多↓”所在的<code>&lt;ui-tab&gt;</code>元素没有<code>name</code>属性值，属于A/B切换效果，因此，随着点击行为的触发，当前<code>&lt;ui-tab&gt;</code>元素会不断切换<code>open</code>属性；同时<code>target</code>属性所匹配的元素<code>'c1'</code>也会不断切换类名<code>'active'</code>。</p>
            <p>配合相关的CSS就可以控制元素的显隐了。</p>

            <h4>2. 手风琴效果</h4>

            <p>左侧列表没有<code>name</code>属性，每个标题展开收起都是独立的；右侧列表有<code>name</code>属性，标题展开与收起是联动的。</p>

            <div class="accordion">
                <dl>
                    <dt id="dt1"><ui-tab target="dt1">标题A</ui-tab></dt>
                    <dd>内容1</dd>
                    <dd>内容2</dd>
                    <dt id="dt2"><ui-tab target="dt2">标题B</ui-tab></dt>
                    <dd>内容1</dd>
                    <dd>内容2</dd>
                    <dt id="dt3"><ui-tab target="dt3">标题C</ui-tab></dt>
                    <dd>内容1</dd>
                    <dd>内容2</dd>
                </dl>

                <dl>
                    <dt id="dt4"><ui-tab target="dt4" name="dt">标题A</ui-tab></dt>
                    <dd>内容1</dd>
                    <dd>内容2</dd>
                    <dt id="dt5"><ui-tab target="dt5" name="dt">标题B</ui-tab></dt>
                    <dd>内容1</dd>
                    <dd>内容2</dd>
                    <dt id="dt6"><ui-tab target="dt6" name="dt">标题C</ui-tab></dt>
                    <dd>内容1</dd>
                    <dd>内容2</dd>
                </dl>
            </div>

            <p>HTML代码如下：</p>
            <pre scrollable>&lt;div class="accordion"&gt;
&lt;dl&gt;
    &lt;dt id="dt1"&gt;&lt;ui-tab target="dt1"&gt;标题A&lt;/ui-tab&gt;&lt;/dt&gt;
    &lt;dd&gt;内容1&lt;/dd&gt;
    &lt;dd&gt;内容2&lt;/dd&gt;
    &lt;dt id="dt2"&gt;&lt;ui-tab target="dt2"&gt;标题B&lt;/ui-tab&gt;&lt;/dt&gt;
    &lt;dd&gt;内容1&lt;/dd&gt;
    &lt;dd&gt;内容2&lt;/dd&gt;
    &lt;dt id="dt3"&gt;&lt;ui-tab target="dt3"&gt;标题C&lt;/ui-tab&gt;&lt;/dt&gt;
    &lt;dd&gt;内容1&lt;/dd&gt;
    &lt;dd&gt;内容2&lt;/dd&gt;
&lt;/dl&gt;

&lt;dl&gt;
    &lt;dt id="dt4"&gt;&lt;ui-tab target="dt4" name="dt"&gt;标题A&lt;/ui-tab&gt;&lt;/dt&gt;
    &lt;dd&gt;内容1&lt;/dd&gt;
    &lt;dd&gt;内容2&lt;/dd&gt;
    &lt;dt id="dt5"&gt;&lt;ui-tab target="dt5" name="dt"&gt;标题B&lt;/ui-tab&gt;&lt;/dt&gt;
    &lt;dd&gt;内容1&lt;/dd&gt;
    &lt;dd&gt;内容2&lt;/dd&gt;
    &lt;dt id="dt6"&gt;&lt;ui-tab target="dt6" name="dt"&gt;标题C&lt;/ui-tab&gt;&lt;/dt&gt;
    &lt;dd&gt;内容1&lt;/dd&gt;
    &lt;dd&gt;内容2&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;</pre>
            <p>关键CSS如下：</p>
            <pre>.accordion dd {
display: none;
}
.accordion .active + dd,
.accordion .active + dd + dd {
display: block;
}</pre>
            <h4>3. 选项卡效果</h4>
            <div class="tab-x">
                <div class="tab">
                    <ui-tab class="tab-label" name="s-tab" target="t1" open>选项卡1</ui-tab>
                    <ui-tab class="tab-label" name="s-tab" target="t2">选项卡2</ui-tab>
                    <ui-tab class="tab-label" name="s-tab" target="t3">选项卡3</ui-tab>
                </div>
                <div id="t1" class="tab-content active">
                    <p>我是选项卡1对应的图片</p>
                    <img src="https://bookcover.yuewen.com/qdbimg/349573/1021518112/90" />
                </div>
                <div id="t2" class="tab-content">
                    <p>我是选项卡2对应的图片</p>
                    <img src="https://bookcover.yuewen.com/qdbimg/349573/1016855477/90" />
                </div>
                <div id="t3" class="tab-content">
                    <p>我是选项卡3对应的图片</p>
                    <img src="https://bookcover.yuewen.com/qdbimg/349573/1024622420/90" />
                </div>
            </div>
            <p>主要看下HTML代码：</p>
            <pre>&lt;div class="tab-x"&gt;
    &lt;div class="tab"&gt;
        &lt;ui-tab class="tab-label" name="s-tab" target="t1" open&gt;选项卡1&lt;/ui-tab&gt;
        &lt;ui-tab class="tab-label" name="s-tab" target="t2"&gt;选项卡2&lt;/ui-tab&gt;
        &lt;ui-tab class="tab-label" name="s-tab" target="t3"&gt;选项卡3&lt;/ui-tab&gt;
    &lt;/div&gt;
    &lt;div id="t1" class="tab-content active"&gt;
        &lt;p&gt;我是选项卡1对应的图片&lt;/p&gt;
        &lt;img src="1.jpg" /&gt;
    &lt;/div&gt;
    &lt;div id="t2" class="tab-content"&gt;
        &lt;p&gt;我是选项卡2对应的图片&lt;/p&gt;
        &lt;img src="2.jpg" /&gt;
    &lt;/div&gt;
    &lt;div id="t3" class="tab-content"&gt;
        &lt;p&gt;我是选项卡3对应的图片&lt;/p&gt;
        &lt;img src="3.jpg" /&gt;
    &lt;/div&gt;
&lt;/div&gt;</pre>
            
            <p>本组件内置了一套选项卡UI样式，效果如下所示：</p>
            <!-- 选项卡 -->
            <div class="ui-tab-tabs">
                <ui-tab target="tabTarget1" name="default" class="ui-tab-tab" open>选项卡文档</ui-tab>
                <ui-tab target="tabTarget2" name="default" class="ui-tab-tab">业务JS分离演示</ui-tab>
            </div>
            <div class="ui-tab-contents">
                <div id="tabTarget1" class="ui-tab-content active">
                    <p>点击上方的选项卡按钮，可以看到切换效果。</p>
                    <p>相关的HTML样式和结构如下所示：</p>
                    <pre>&lt;div class="ui-tab-tabs">
    &lt;ui-tab <mark>target="tabTarget1"</mark> name="tabgroup" class="ui-tab-tab" open&gt;选项卡文档&lt;/ui-tab&gt;
    &lt;ui-tab <mark>target="tabTarget2"</mark> name="tabgroup" class="ui-tab-tab"&gt;业务JS分离演示&lt;/ui-tab&gt;
&lt;/divb&gt;
&lt;div class="ui-tab-contents"&gt;
    &lt;div <mark>id="tabTarget1"</mark> class="ui-tab-content active"&gt;&lt;/div&gt;
    &lt;div <mark>id="tabTarget2"</mark> class="ui-tab-content"&gt;&lt;/div&gt;
&lt;/div&gt;</pre>
                    <p>其中的类名<code>ui-tab-tabs</code>、<code>ui-tab-tab</code>、<code>ui-tab-contents</code>、<code>ui-tab-content</code>对应的样式与标签无关，因此，如果当前选项卡就是普通的链接跳转，替换成<code>&lt;a&gt;</code>元素即可。</p>
                    <pre>&lt;div class="ui-tab-tabs"&gt;
    &lt;a href="/a/" class="ui-tab-tab" open>选项卡1&lt;/a&gt;
    &lt;a href="/b/" class="ui-tab-tab">选项卡2&lt;/a&gt;
&lt;/div&gt;</pre>
                </div>
                <!-- 选项卡2 -->
                <div id="tabTarget2" class="ui-tab-content">
                    <p>每次进来，图片会重载一次，高度随机。演示选项卡切换事件是如何触发的。</p>
                    <div id="imgLoadingX" class="ui-loading" align="center" style="height:200px;"></div>
                    <p>代码如下：</p>
                    <pre><span class="green">// 点击第2个选项卡
// 这里'show'事件也可以换成'click'事件</span>
document.querySelector('ui-tab[target="tabTarget2"]').addEventListener('show', function () {
    eleImgX.innerHTML = '&lt;img src="some.jpg" height="' + Math.round(100 + 100 * Math.random()) + '"&gt;';
});</pre>
                </div>
            </div>

            <h3>is-tab属性</h3>
            <p>本组件还支持在普通HTML元素上使用应用切换效果，方法是添加<code>is-tab</code>属性。</p>
            <p>切换对象使用<code>data-target</code>属性指定，对于<code>&lt;a&gt;</code>元素，也可以使用<code>href</code>属性指定（此时需要前面加<code>'#'</code>）。</p>

            <p>例如上面提到的展开收起效果也可以使用如下所示的HTML结构：</p>
            <pre>&lt;ul id="c2"&gt;
    &lt;li&gt;列表1&lt;/li&gt;
    &lt;li&gt;列表2&lt;/li&gt;
    &lt;li&gt;列表3&lt;/li&gt;
    &lt;li hidden&gt;列表4&lt;/li&gt;
    &lt;li hidden&gt;列表5&lt;/li&gt;
    &lt;li hidden&gt;列表6&lt;/li&gt;
    &lt;a href="#c2" class="blue" <mark>is-tab</mark>&gt;更多↓&lt;/a&gt;
    <span class="green">&lt;!-- 或者 --&gt;</span>
    <span class="green">&lt;!-- &lt;a href="javascript:" class="blue" <mark>is-tab="c2"</mark>&gt;&lt;/a&gt; --&gt;</span>
&lt;/ul&gt;</pre>

            <p>实时效果如下：</p>
            <ul id="c2">
                <li>列表1</li>
                <li>列表2</li>
                <li>列表3</li>
                <li hidden>列表4</li>
                <li hidden>列表5</li>
                <li hidden>列表6</li>
                <a href="#c2" class="blue" is-tab>更多↓</a>
            </ul>

            <hr>

            <p>亦或者选项卡效果（同样使用<code>name</code>属性进行分组），这里使用<code>&lt;button&gt;</code>元素示意下：</p>
            <pre>&lt;div class="ui-tab-tabs"&gt;
    <mark class="orange">&lt;button</mark> <mark>data-target="p1"</mark> name="tab-button" class="ui-tab-tab" <mark>is-tab</mark> open&gt;选项卡1<mark class="orange">&lt;/button&gt;</mark>
    <mark class="orange">&lt;button</mark> <mark>data-target="p2"</mark> name="tab-button" class="ui-tab-tab" <mark>is-tab</mark>&gt;选项卡2<mark class="orange">&lt;/button&gt;</mark>
&lt;/div&gt;
&lt;div <mark>id="p1"</mark> class="ui-tab-content active"&gt;
    &lt;p&gt;我是选项卡1对应的图片&lt;/p&gt;
    &lt;img src="1.jpg" /&gt;
&lt;/div&gt;
&lt;div <mark>id="p2"</mark> class="ui-tab-content"&gt;
    &lt;p&gt;我是选项卡2对应的图片&lt;/p&gt;
    &lt;img src="2.jpg" /&gt;
&lt;/div&gt;</pre>
            <div class="ui-tab-tabs">
                <button data-target="p1" name="tab-button" class="ui-tab-tab" is-tab open>选项卡1</button>
                <button data-target="p2" name="tab-button" class="ui-tab-tab" is-tab>选项卡2</button>
            </div>
            <div id="p1" class="ui-tab-content active">
                <p>我是选项卡1对应的图片</p>
                <img src="https://bookcover.yuewen.com/qdbimg/349573/1021518112/90" />
            </div>
            <div id="p2" class="ui-tab-content">
                <p>我是选项卡2对应的图片</p>
                <img src="https://bookcover.yuewen.com/qdbimg/349573/1016855477/90" />
            </div>

            <p>设置了<code>is-tab</code>属性的DOM元素的切换效果底层还是借助<code>&lt;ui-tab&gt;</code>元素实现的，该<code>&lt;ui-tab&gt;</code>元素可以使用下面的语法获得：</p>
            <pre>dom['ui-tab'];   <span class="green">// 返回对应的&lt;ui-tab&gt;元素</span></pre>

            <h3>NodeList.tab()方法</h3>

            <p>本组件还支持手动绑定切换行为，同样针对普通元素元素。假设有如下所示的HTML代码：</p>
            <pre>&lt;div id="myTabs" class="ui-tab-tabs"&gt;
    &lt;button data-target="p3" class="ui-tab-tab" open&gt;选项卡1&lt;/button&gt;
    &lt;button data-target="p4" class="ui-tab-tab"&gt;选项卡2&lt;/button&gt;
&lt;/div&gt;
&lt;div id="p3" class="ui-tab-content active"&gt;...&lt;/div&gt;
&lt;div id="p4" class="ui-tab-content"&gt;...&lt;/div&gt;</pre>
            <p>则执行下面的JavaScript代码就可以有选项卡切换效果了：</p>
            <pre>document.querySelectorAll('#myTabs button').tab();</pre>

            <div id="myTabs" class="ui-tab-tabs">
                <button data-target="p3" class="ui-tab-tab" open>选项卡1</button>
                <button data-target="p4" class="ui-tab-tab">选项卡2</button>
            </div>
            <div id="p3" class="ui-tab-content active">
                <p>我是选项卡1对应的图片</p>
                <img src="https://bookcover.yuewen.com/qdbimg/349573/1021518112/90" />
            </div>
            <div id="p4" class="ui-tab-content">
                <p>我是选项卡2对应的图片</p>
                <img src="https://bookcover.yuewen.com/qdbimg/349573/1016855477/90" />
            </div>

            <h3>语法和参数</h3>
            <p>对于<code>&lt;ui-tab&gt;</code>自定义元素，支持下面这些自定义参数。</p>
            <table width="100%" class="ui-table">
                <tr>
                    <th scope="col" width="80">参数名称</th>
                    <th scope="col" width="100">支持类型</th>
                    <th scope="col" width="120">默认值</th>
                    <th scope="col">释义</th>
                </tr>
                <tr>
                    <td>target</td>
                    <td>String</td>
                    <td>''</td>
                    <td>可选。表示切换效果对应的元素的id值。</td>
                </tr>
                <tr>
                    <td>name</td>
                    <td>String</td>
                    <td>''</td>
                    <td>可选。表示分组名。如果不设置，或者为空，则表示当前切换是不断循环的A/B切换效果。</td>
                </tr>
                <tr>
                    <td>event<wbr>Type</td>
                    <td>String</td>
                    <td>'click'</td>
                    <td>可选。表示事件类型。默认为点击事件。还支持<wbr><code>'mouseover'</code><wbr>，<wbr><code>'mouseenter'</code>等事件。值<code>'hover'</code>会按照<code>'mouseenter'</code>事件处理。
                    </td>
                </tr>
                <tr>
                    <td>history</td>
                    <td>Boolean</td>
                    <td>false</td>
                    <td>可选。表示是否通过给url添加查询字符串记录选项卡的选中状态。默认值为<code>false</code>表示切换时候查询地址无变化。此参数生效需要name值必须存在。</td>
                </tr>
                <tr>
                    <td>autoplay</td>
                    <td>Integer</td>
                    <td>3000</td>
                    <td>可选。表示是否自动播放。如果不设置，表示不自动播放。如果设置，则只要参数值不是整数，均采用默认的自动播放时间3000ms。<code>autoplay</code>自动播放时间是独立的，不同选项卡按钮可以有不同的自动播放时间。</td>
                </tr>
            </table>

            <h4>history参数效果示意</h4>
            <p>鼠标经过下面的选项卡，同时观察URL地址的变化。</p>
            <div class="ui-tab-tabs">
                <ui-tab target="tt1" name="rel" class="ui-tab-tab" history="true" eventtype="hover" open>选项卡1</ui-tab>
                <ui-tab target="tt2" name="rel" class="ui-tab-tab" history="true" eventtype="hover">选项卡2</ui-tab>
            </div>
            <div id="tt1" class="ui-tab-content active">
                <p>我是选项卡1对应的图片</p>
                <img src="https://bookcover.yuewen.com/qdbimg/349573/1021518112/90" />
            </div>
            <div id="tt2" class="ui-tab-content">
                <p>我是选项卡2对应的图片</p>
                <img src="https://bookcover.yuewen.com/qdbimg/349573/1016855477/90" />
            </div>

            <p>相关HTML如下所示：</p>
            <pre>&lt;div class="ui-tab-tabs"&gt;
    &lt;ui-tab target="tt1" name="rel" class="ui-tab-tab" <mark>history="true"</mark> eventtype="hover" open&gt;选项卡1&lt;/ui-tab&gt;
    &lt;ui-tab target="tt2" name="rel" class="ui-tab-tab" <mark>history="true"</mark> eventtype="hover"&gt;选项卡2&lt;/ui-tab&gt;
&lt;/div&gt;
&lt;div id="tt1" class="ui-tab-content active"&gt;...&lt;/div&gt;
&lt;div id="tt2" class="ui-tab-content"&gt;...&lt;/div&gt;</pre>

            <p>可以看到name属性作为了查询字符串的key值，target属性值作为了查询字符串的value值。</p>

            <p>虽然页面刷新的时候，选项卡会自动定位到上一个选中的选项卡元素上，但是这个过程是异步后执行的，用户会看到选项卡变化的过程，体验并不一定完美，因此建议页面直出的时候直接根据URL查询内容进行open属性和active类名的设置。</p>

            <h4>普通元素中的参数设置</h4>
            <p>普通元素中的参数设置与<code>&lt;ui-tab&gt;</code>自定义元素类似，区别在于需要在前面添加<code>data-</code>前缀（<code>name</code>参数除外），以及注意保持小写。</p>
            <p>例如：</p>
            <pre>&lt;button <mark>data-target</mark>="someId" <mark>data-history</mark>="true" <mark>data-eventtype</mark>="hover" is-tab open&gt;选项卡1&lt;/button&gt;</pre>

            <p>其中，对于<code>&lt;a&gt;</code>元素，可以使用<code>href</code>属性代替<code>data-target</code>，不过需要在前面添加一个井号<code>#</code>，例如：</p>
            <pre>&lt;a href="#c2" class="blue" <mark>is-tab</mark>&gt;更多↓&lt;/a&gt;</pre>

            <h4>Nodelist.tab()的语法和参数</h4>
            <p>语法如下：</p>
            <pre>Nodelist.tab(options);</pre>
            <p>其中<code>options</code>是可选参数，支持这3个参数：<code>name</code>、<code>eventType</code>、<code>history</code>和<code>autoplay</code>。</p>
            <p>例如下面这个效果：</p>
            <blockquote style="border: 1px dotted; padding: 1rem; margin: 0;">
                <button data-target="t-1">经过我-1</button>
                <button data-target="t-2">经过我-2</button>
                <p><mark id="t-1" class="ui-tab-content">内容1</mark><mark id="t-2" class="ui-tab-content">内容2</mark></p></blockquote>
            <p>相关HTML和JS代码使用示意：</p>
            <pre>&lt;button data-target="t-1"&gt;经过我-1&lt;/button&gt;
&lt;button data-target="t-2"&gt;经过我-2&lt;/button&gt;
&lt;p&gt;
    &lt;mark id="t-1" class="ui-tab-content"&gt;内容1&lt;/mark&gt;
    &lt;mark id="t-2" class="ui-tab-content"&gt;内容2&lt;/mark&gt;
&lt;/p&gt;</pre>
            <pre>document.querySelectorAll('button[data-target^="t-"]').tab({
    name: 'free',
    history: true,
    eventType: 'hover'
});</pre>

            <h4>new Tab()的语法和参数</h4>
            <p>对于单个普通HTML元素，也可以使用<code>new Tab()</code>语法进行构造。</p>
            <p><code>new Tab()</code>本质上是创建<code>&lt;ui-tab&gt;</code>自定义元素的快捷语法，底层通过<code>for</code>属性机制和普通HTML产生状态关联。</p>

            <p>语法如下：</p>
            <pre>let eleTab = new Tab(trigger, options);</pre>

            <p>其中：</p>
            <dl>
                <dt><strong>trigger</strong></dt>
                <dd>必需。String|Element。表示切换按钮元素。如果是字符串类型，则表示切换按钮元素。</dd>
                <dt><strong>options</strong></dt>
                <dd>可选。Object。表示可选参数，仅支持<code>eventType</code>、<code>history</code>和<code>autoplay</code>的设置。</dd>
            </dl>

            <h3>事件与回调</h3>
            <p>仅在<code>&lt;ui-tab&gt;</code>元素中有自定义的事件支持，包括<code>'show'</code>、<code>'hide'</code>和<code>'switch'</code>这3个自定义事件。</p>
            <p>其中：</p>
            <dl>
                <dt><strong>show</strong></dt>
                <dd>切换显示的时候触发。使用示意：<pre>tab.addEventListener('show', _ => {});</pre></dd>
                <dt><strong>hide</strong></dt>
                <dd>切换隐藏的时候触发。使用示意：<pre>tab.addEventListener('hide', _ => {});</pre></dd>
                <dt><strong>switch</strong></dt>
                <dd>切换状态变化的时候触发。使用示意：<pre>tab.addEventListener('switch', event => {
    console.log(this.open);
});</pre></dd>
            </dl>

            <p>对于普通元素的切换，可以使用原生事件进行处理，例如，点击某个选项卡之后你希望做些事情，可以：</p>
            <pre>tab.addEventListener('click', _ => {});</pre>

            <h3>扩展：广告图轮播实现</h3>
            <p>Tab组件本质上是个切换器，因此，也是可以用来实现轮播图效果的，使用<code>autoplay</code>参数即可触发自动播放：</p>
<style>
    .slide-container {
        position: relative;
        width: 350px;
        height: 105px;
        border: 1px solid #ddd;
    }
    .slide-a {
        width: inherit;
        opacity: 1;
        position: absolute;
        transition: opacity .2s;
    }
    .slide-a:not(.active) {
        opacity: 0;
        visibility: hidden;
        transition: opacity .2s, visibility .01s .2s;
    }
    .slide-img {
        display: block;
        width: 100%;
        height: 105px;
    }
    .slide-dot-x {
        width: 350px;
        text-align: center;
        position: relative;
        margin-top: -25px;
    }
    .slide-dot {
        display: inline-block;
        width: 10px;
        height: 10px;
        border: 4px solid transparent;
        background-color: #fff;
        background-clip: content-box;
        border-radius: 50%;
    }
    .slide-dot[open] {
        background-color: #cd0000;
    }
</style>
<div class="slide-container">
    <a href="" id="slideLi1" class="slide-a active">
        <img src="//bossaudioandcomic-1252317822.image.myqcloud.com/activity/document/0767069e27cb047a648d62e34173077f.jpg" class="slide-img">
    </a>
    <a href="" id="slideLi2" class="slide-a">
        <img src="//bossaudioandcomic-1252317822.image.myqcloud.com/activity/document/7a93d356029d29e2648ec27680764f3d.jpg" class="slide-img">
    </a>
    <a href="" id="slideLi3" class="slide-a">
        <img src="//bossaudioandcomic-1252317822.image.myqcloud.com/activity/document/1a281c92c5f53ca7823ad5ed398e8da2.jpg" class="slide-img">
    </a>
</div>
<div class="slide-dot-x">
    <ui-tab eventtype="mouseover" name="sliderDot" class="slide-dot" autoplay open target="slideLi1"></ui-tab>
    <ui-tab eventtype="mouseover" name="sliderDot" class="slide-dot" autoplay="4000" target="slideLi2"></ui-tab>
    <ui-tab eventtype="mouseover" name="sliderDot" class="slide-dot" autoplay="5000" target="slideLi3"></ui-tab>
</div>

            <p>样式需要重写，LuLu UI不提供，源码示意：</p>
            <p>CSS部分：</p>
            <pre>.slide-container {
    position: relative;
    width: 350px; height: 105px;
    border: 1px solid #ddd;
}
.slide-a {
    position: absolute;
    transition: opacity .2s;
}
.slide-a:not(.active) {
    opacity: 0;
    visibility: hidden;
    transition: opacity .2s, visibility .01s .2s;
}
.slide-img {
    display: block;
    width: 100%; height: 105px;
}
.slide-dot-x {
    width: 350px;
    text-align: center;
    position: relative;
    margin-top: -25px;
}
.slide-dot {
    display: inline-block;
    width: 10px; height: 10px;
    border: 4px solid transparent;
    background-color: #fff;
    background-clip: content-box;
    border-radius: 50%;
}
.slide-dot[open] {
    background-color: #cd0000;
}</pre>
            <p>HTML部分：</p>
            <pre>&lt;div id="slideContainer" class="slide-container"&gt;
    &lt;a href id="slideLi1" class="slide-a active"&gt;
        &lt;img src="1.jpg" class="slide-img"&gt;
    &lt;/a&gt;
    &lt;a href id="slideLi2" class="slide-a"&gt;
        &lt;img src="2.jpg" class="slide-img"&gt;
    &lt;/a&gt;
    &lt;a href id="slideLi3" class="slide-a"&gt;
        &lt;img src="3.jpg" class="slide-img"&gt;
    &lt;/a&gt;
&lt;/div&gt;
&lt;div id="slideDot" class="slide-dot-x"&gt;
    &lt;ui-tab eventtype="mouseover" name="sliderDot" class="slide-dot" autoplay open target="slideLi1"&gt;&lt;/ui-tab&gt;
    &lt;ui-tab eventtype="mouseover" name="sliderDot" class="slide-dot" autoplay="4000" target="slideLi2"&gt;&lt;/ui-tab&gt;
    &lt;ui-tab eventtype="mouseover" name="sliderDot" class="slide-dot" autoplay="5000" target="slideLi3"&gt;&lt;/ui-tab&gt;
&lt;/div&gt;</pre>

            <p>3个广告图自动播放时间分别是3s，4s和5s。</p>
        </article>

        <div class="contributors pb20">
            <svg>
                <use xlink:href="#icon-persons"></use>
            </svg>
            <h6 class="contributors-h">本页贡献者：</h6>
            <p id="contributorsP" class="contributors-p">zhangxinxu，nanaSun</p>
        </div>
    </main>
    <!-- 侧边栏 -->
    <!-- 侧边栏 -->
<aside id="aside" class="aside">
    <div class="aside_main">
    	<dl class="aside_dl">
        	<dt class="aside_dt">关于</dt>
            <dd><a href="./about.design.html" class="aside_nav "><i class="icon icon_nav_msg"><svg><use xlink:href="#icon-maxcdn"></use></svg></i>命名与设计</a></dd>
            <dd><a href="./about.use.html" class="aside_nav "><i class="icon icon_nav_set"><svg><use xlink:href="#icon-wrench"></use></svg></i>使用与发布</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">全局</dt>
            <dd><a href="./apis.colour.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-delicious"></use></svg></i>颜色</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">布局</dt>
            <dd><a href="./apis.table.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-table"></use></svg></i>Table表格</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">控件</dt>
            <dd><a href="./apis.button.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-caret-square-o-right"></use></svg></i>Button按钮</a></dd>
            <dd><a href="./apis.input.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-tasks"></use></svg></i>Input文本框</a></dd>
            <dd><a href="./apis.textarea.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-square-o"></use></svg></i>Textarea文本域</a></dd>
            <dd><a href="./apis.placeholder.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-product-hunt"></use></svg></i>Placeholder占位符</a></dd>
            <dd><a href="./apis.checked.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-check-square"></use></svg></i>Radio/Checkbox框</a></dd>
            <dd><a href="./apis.switch.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-toggle-on"></use></svg></i>Switch开关</a></dd>
            <dd><a href="./apis.progress.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-ellipsis-h"></use></svg></i>Progress进度</a></dd>
        </dl>
        <div class="aside_divide"></div>
        <dl class="aside_dl">
            <dd><a href="./apis.select.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-bars"></use></svg></i>Select下拉框</a></dd>
            <dd><a href="./apis.range.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-sliders"></use></svg></i>Range范围选择</a></dd>
            <dd><a href="./apis.color.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-eyedropper"></use></svg></i>Color颜色选择</a></dd>
            <dd><a href="./apis.datetime.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-calendar"></use></svg></i>DateTime日期选择</a></dd>
            <dd><a href="./apis.datalist.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-list"></use></svg></i>Datalist数据列表</a></dd>
        </dl>
        <div class="aside_divide"></div>
        <dl class="aside_dl">
            <dt class="aside_dt">组件</dt>
            <dd><a href="./apis.loading.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-spinner"></use></svg></i>Loading效果</a></dd>
            <dd><a href="./apis.dialog.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-external-link"></use></svg></i>Dialog弹框</a></dd>
            <dd><a href="./apis.tips.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-bell"></use></svg></i>Tips/ErrorTip提示</a></dd>
            <dd><a href="./apis.lighttip.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-bolt"></use></svg></i>LightTip轻提示</a></dd>
            <dd><a href="./apis.pagination.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-stack"></use></svg></i>Pagination分页</a></dd>
            <dd><a href="./apis.drop.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-dropbox"></use></svg></i>Drop下拉们</a></dd>
            <dd><a href="./apis.validate.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-check-square-o"></use></svg></i>Validate表单验证</a></dd>
            <dd><a href="./apis.tab.html" class="aside_nav active"><i class="icon icon_nav_user"><svg><use xlink:href="#icon-tags"></use></svg></i>Tab切换们</a></dd>
        </dl>

        <dl class="aside_dl">
            <dt class="aside_dt">综合实例</dt>
            <dd><a href="./example.table.html" class="aside_nav "><i class="icon icon_nav_menu"><svg><use xlink:href="#icon-list-alt"></use></svg></i>表格解决方案</a></dd>
            <dd><a href="./example.form.html" class="aside_nav "><i class="icon icon_nav_source"><svg><use xlink:href="#icon-wpforms"></use></svg></i>表单解决方案</a></dd>
        </dl>
    </div>
</aside>
<script>(function () {
    // 记住滚动位置
    var eleAside = document.getElementById('aside');

    eleAside.addEventListener('click', function () {
        sessionStorage.asideScrollTop = this.scrollTop;
    });

    eleAside.scrollTop = sessionStorage.asideScrollTop;
    // IE这里设置可能没有用
    if (eleAside.scrollTop != sessionStorage.asideScrollTop) {
        setTimeout(function () {
            eleAside.scrollTop = sessionStorage.asideScrollTop;
        }, 1);
    }

    // 滚动条设置判断
    var div = document.createElement('div');
    div.style.width = '100px';
    div.style.height = '100px';
    div.style.overflow = 'auto';
    div.style.position = 'absolute';
    div.style.left = '-199px';
    var p = document.createElement('p');
    p.style.height = '120px';
    p.innerHTML = 'haha';
    div.appendChild(p);
    document.body.appendChild(div);
    if (p.clientWidth != 100) {
        eleAside.className += ' scrollbar';
    }
    document.body.removeChild(div);
})();
</script>
</div>

<a href="#" id="backtop" class="backtop"></a>

<script src="https://qidian.gtimg.com/lulu/edge/js/common/ui/Keyboard.js"></script>
<script src="https://qidian.gtimg.com/lulu/edge/js/common/safari-polyfill.js"></script>
<script type="module" src="https://qidian.gtimg.com/lulu/edge/js/common/ui/Select.js"></script>
<!-- 底部 -->
<script src="../edge/assets/js/mockup.js"></script>
</body>
</html>
<script type="module" src="https://qidian.gtimg.com/lulu/edge/js/common/ui/Loading.js"></script>
<script type="module" src="https://qidian.gtimg.com/lulu/edge/js/common/ui/Tab.js"></script>
<script type="module">
// 点击第二个选项卡
const eleImgX = document.querySelector('#imgLoadingX');
document.querySelector('ui-tab[target="tabTarget2"]').addEventListener('show', function () {
    eleImgX.style.height = eleImgX.clientHeight + 'px';
    eleImgX.innerHTML = '';
    eleImgX.loading = true;
    setTimeout(function () {
        eleImgX.innerHTML = '<img src="//bookcover.yuewen.com/qdbimg/349573/1012237441/180" alt="全球高武" height="' + Math.round(100 + 100 * Math.random()) + '">';
        eleImgX.loading = false;
        eleImgX.style.height = 'auto';
    }, 1000);
});

// 自己绑定选项卡
document.querySelectorAll('#myTabs button').tab();
document.querySelectorAll('button[data-target^="t-"]').tab({
    name: 'free',
    history: true,
    eventType: 'hover'
});
</script>